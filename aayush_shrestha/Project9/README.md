# Project 9 – High-Performance PDF Search with TF-IDF  

**Author**: Aayush Shrestha  
**Course**: COSC 352 – Organization of Programming Languages  


---

## Overview

This project implements a fast PDF search engine that:
- Extracts overlapping text passages from a PDF
- Ranks them using classic TF-IDF scoring
- Returns the top N most relevant passages with page numbers

Two implementations are compared:
- **Scalar version** – Mojo CLI + pure Python core
- **SIMD version** – NumPy vectorized implementation

**Result**: The Mojo version is ≈ 2× faster than the NumPy SIMD version on the test document.

---

## Files

```
Project9/
├── Morgan2030.pdf
├── Morgan2030.json                 # generated by pdf_extractor.py
├── pdf_extractor.py                # extracts passages → JSON
├── pdfsearch_core.py               # scalar TF-IDF (Python)
├── pdfsearch_simd_core.py          # NumPy SIMD version
├── pdfsearch.mojo                  # Mojo CLI wrapper (calls scalar version)
├── pdfsearch_simd_cli.py
├── pdfsearch_simd                  # shell wrapper for SIMD version
├── benchmark.sh                    # performance comparison script
├── requirements.txt
└── README.md                       # this file
```

---

## Setup (run once)

```bash
# Python dependencies
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt

# Mojo + NumPy via pixi (run once in the project folder)
pixi init . -c https://conda.modular.com/max-nightly/ -c conda-forge
pixi add mojo numpy pypdf2
pixi shell          # activates Mojo environment
```

---

## Usage

```bash
# 1. Extract passages (only needed once)
python3 pdf_extractor.py Morgan2030.pdf Morgan2030.json

# 2. Build & run the FAST Mojo version
mojo build pdfsearch.mojo -o pdfsearch
chmod +x pdfsearch
./pdfsearch Morgan2030.pdf "strategic planning" 5

# 3. Run NumPy SIMD version
./pdfsearch_simd Morgan2030.pdf "strategic planning" 5

# 4. Run benchmark
chmod +x benchmark.sh
./benchmark.sh
```

---

## Example Output

```
Results for: "strategic planning"

[1] Score: 0.436 (page 2)
    "2030Transformation MORGAN LEADING THE FUTURE ... 12 Strategic Planning ..."

[2] Score: 0.368 (page 19)
    "STRA TEGIC GOALS 2021–2030 AAs this strategic planning process ..."

...
```

---

## Benchmark Results (MacBook Pro M1/M2)

```
Scalar (Mojo + Python):   ~0.026 – 0.028 s
SIMD (NumPy):               ~0.056 – 0.060 s

→ Mojo is ~2× faster!
```

---
